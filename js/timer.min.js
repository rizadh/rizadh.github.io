"use strict";function setDial(t,e,i){var a=i>=.5?1:0,o=e*(1+Math.sin(2*Math.PI*i)),s=e*(1-Math.cos(2*Math.PI*i)),n=o+" "+s,l=e+" "+e,r=" 0 "+a+" 1 ",c="M"+e+" "+e,d="L"+e+" 0",y="A"+l+r+n,p=c+d+y;t.attr("d",p)}function setTime(t){var e=1e3*t;$("#dial-ring path").velocity({tween:WHOLE_CIRCLE},{duration:e,easing:"linear",progress:function(t,e,i,a,o){setDial($("#dial-ring path"),50,o);var s=Math.ceil(i/1e3),n=Math.floor(s/60)%60,l=Math.floor(s/3600);s%=60,s=("0"+s).slice(-2),n=("0"+n).slice(-2),l=("0"+l).slice(-2),setDisplayTime([l,n,s].join(""))}})}function getDisplayTime(t){var e=$("#display-text");return t?e.text():e.data("current_time")}function setDisplayTime(t,e){var i=$("#display-text");if(e)i.text(t);else if(""==t)i.data("current_time","000000").text("Enter a time").css("font-family","roboto_condensedregular");else{i.data("current_time",t).css("font-family","robotoregular");for(var a=getDisplayTime(),o=[],s=["h","m","s"],n=0;3>n;n++){var l=a.slice(2*n,2*n+2);(l>0||"s"==s[n])&&(10>l&&!o[0]&&(l=l.slice(-1)),o.push(l+s[n]))}var r=o.join(" ");r!=i.text()&&i.text(r)}}function startTimer(){$("#display").velocity("stop").velocity({height:"90%"},{duration:400,easing:"easeOutExpo"}),$("#keypad td").velocity("stop").velocity("fadeOut",200),$("#edit-button").velocity("stop").velocity("fadeIn",100),$("#dial-ring").velocity("stop").velocity("fadeIn",200);var t=getDisplayTime(),e=3600*t.slice(-6,-4),i=60*t.slice(-4,-2),a=1*t.slice(-2),o=e+i+a;setTime(o)}function editTime(){$("#dial-ring path").velocity("stop"),$("#display").velocity("stop").velocity({height:"20%"},{duration:400,easing:"easeOutExpo"}),$("#keypad td").velocity("stop").velocity("fadeIn",{duration:200,display:""}),$("#edit-button").velocity("stop").velocity("fadeOut",100),$("#dial-ring").velocity("stop").velocity("fadeOut",200)}var WHOLE_CIRCLE=.99999999;$(function(){setDisplayTime(""),$("#keypad td").on("tap",function(){var t=$(this).text();if("Clear"==t)setDisplayTime("");else if("Start"==t)startTimer();else{var e=(getDisplayTime()+t).slice(-6);setDisplayTime(e)}}),$("#edit-button").on("tap",function(){editTime()})}),$(window).on("load resize orientationChange",function(){var t=Math.min(window.innerHeight,window.innerWidth);$("body").css("font-size",t/8)});